<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Python 3.6 f-strings rant | Alexander Bulimov: Production Engineer and Scale Modeller</title>
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/fonts.css" />
    <style>
@media (prefers-color-scheme: dark) {
  body {
    background-color: white;
  }
  html, img, video, iframe {
    filter: invert(1);
  }
}
</style>

  </head>

  <body>
    <nav>
    <ul class="menu">
      
      <li><a href="/">Home</a></li>
      
      <li><a href="/about/">About</a></li>
      
      <li><a href="https://models.bulimov.me">Scale Models</a></li>
      
      <li><a href="/categories/">Categories</a></li>
      
      <li><a href="/tags/">Tags</a></li>
      
      <li><a href="/reviews/">Reviews</a></li>
      
      <li><a href="/index.xml">Subscribe</a></li>
      
    </ul>
    <hr/>
    </nav>

<div class="article-meta">
<h1><span class="title">Python 3.6 f-strings rant</span></h1>

<h2 class="date">2017/07/24</h2>

</div>

<main>
<p>Python 3.6 introduced a new way to format strings, called
<a href="https://docs.python.org/3.6/reference/lexical_analysis.html#f-strings"><strong>Formatted string literals</strong></a>,
or just <em>f-strings</em>. Everyone on the internet
seem to be happy about it. I&rsquo;m definitely not.</p>
<p>For starters, Python 3 already had 3 built-in ways of doing it before.
Just think about it&hellip; 3 ways to <em>format strings</em> in language that declares simplicity as a goal:</p>
<blockquote>
<p>There should be one&ndash; and preferably only one &ndash;obvious way to do it.</p>
<ul>
<li><a href="https://www.python.org/doc/humor/#the-zen-of-python">The Zen of Python</a></li>
</ul></blockquote>
<p>These methods are:</p>
<ul>
<li>Using <code>%</code> (modulo) operator (old way, supported in logging module)</li>
<li>Using <code>.format()</code> string method (relatively new way)</li>
<li>Using <a href="https://docs.python.org/3/library/string.html#template-strings"><em>template strings</em></a> (very old and quite slow way)</li>
</ul>
<p>And I&rsquo;m not even talking about basic string concatenation.</p>
<p>And as this is clearly not enough for <em>simplicity</em>, they&rsquo;ve just added
another method. It works almost like <code>.format()</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python3" data-lang="python3"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> foo <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;bar&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;f-strings allows me to use </span><span style="color:#e6db74">{</span>foo<span style="color:#f92672">.</span>upper()<span style="color:#e6db74">}</span><span style="color:#e6db74"> just like this&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;f-strings allows me to use BAR just like this&#34;</span>
</span></span></code></pre></div><p>The idea is to directly use names from current scope for formatting.</p>
<p>So now we have 4 ways to format strings, all of which can be mixed up.
I&rsquo;m already sick of seeing all kind of mistakes like using <code>{}</code> with
modulo formatting, or <code>%s</code> with <code>.format()</code> formatting, mixing both methods
in the same file. And as programmers do mostly <strong>read</strong> the code, I do care
about it&rsquo;s comprehensiveness and readability.</p>
<p>Another concern is tooling support. Python is already looking bad
from this point of view, having just <a href="https://www.pylint.org/">pylint</a>
as a standalone linter (sorry, but <em>pyflakes</em> is a joke compared to it).
<a href="https://www.jetbrains.com/pycharm/">PyCharm</a> is brilliant without any doubts,
but it&rsquo;s not everyone cup of tea. And while even <em>pyflakes</em> can handle
checking for usage of uninitialized variable, doing the same with f-strings
is more complicated, and is not supported for now AFAIK.</p>
<p>Returning to Python from Go land, all of this really bothers me.
While Go devs are thinking about <a href="https://dave.cheney.net/2017/06/15/simplicity-debt">Simplicity Debt</a>,
Python folks just keep adding features.</p>
<p>And while I&rsquo;m quite <a href="/it/python-typing/">happy with Python 3 Type Hints</a>,
because it actually helps to understand the code by clearly indicating
argument types, I&rsquo;m absolutely not happy with f-strings, especially seeing how
they are already breaking linters and cutting off Python 2 compatibility at work.</p>

</main>


<p class="terms">
<b>Tags:</b>

  <a href="//bulimov.me/tags/python/">Python</a>

  <a href="//bulimov.me/tags/programming/">Programming</a>

  <a href="//bulimov.me/tags/rant/">Rant</a>

  <a href="//bulimov.me/tags/golang/">Golang</a>


</p>
<p class="terms">

<b>Categories:</b>

  <a href="//bulimov.me/categories/it/">IT</a>


</p>

  <footer>
  
  
  <hr/>
  <a href="https://creativecommons.org/licenses/by-sa/4.0/"><img src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png" alt="License: CC BY-SA 4.0"></a> Â© <a href="http://bulimov.me">Alexander Bulimov</a> 2013 &ndash; 2025 | <a href="https://github.com/abulimov">Github</a>
  
  </footer>
  </body>
</html>

